#include <avr/pgmspace.h>

int _ = 0;

PROGMEM int A[7][6] = {{_,1,1,1,_},
                       {1,_,_,_,1},
                       {1,_,_,_,1},
                       {1,1,1,1,1},
                       {1,_,_,_,1},
                       {1,_,_,_,1},
                       {1,_,_,_,1}};

PROGMEM int B[7][6] = {{1,1,1,1,_},
                       {1,_,_,_,1},
                       {1,_,_,_,1},
                       {1,1,1,1,_},
                       {1,_,_,_,1},
                       {1,_,_,_,1},
                       {1,1,1,1,_}};

PROGMEM int C[7][6] = {{_,1,1,1,_},
                       {1,_,_,_,1},
                       {1,_,_,_,_},
                       {1,_,_,_,_},
                       {1,_,_,_,_},
                       {1,_,_,_,1},
                       {_,1,1,1,_}};

PROGMEM int D[7][6] = {{1,1,1,1,_},
                       {1,_,_,_,1},
                       {1,_,_,_,1},
                       {1,_,_,_,1},
                       {1,_,_,_,1},
                       {1,_,_,_,1},
                       {1,1,1,1,_}};

PROGMEM int E[7][6] = {{1,1,1,1,_},
                       {1,_,_,_,_},
                       {1,_,_,_,_},
                       {1,1,1,1,_},
                       {1,_,_,_,_},
                       {1,_,_,_,_},
                       {1,1,1,1,1}};
               
PROGMEM int F[7][6] = {{1,1,1,1,1},
                       {1,_,_,_,_},
                       {1,_,_,_,_},
                       {1,1,1,1,_},
                       {1,_,_,_,_},
                       {1,_,_,_,_},
                       {1,_,_,_,_}};

PROGMEM int G[7][6] = {{_,1,1,1,_},
                       {1,_,_,_,1},
                       {1,_,_,_,_},
                       {1,_,1,1,1},
                       {1,_,_,_,1},
                       {1,_,_,_,1},
                       {_,1,1,1,1}};

PROGMEM int H[7][6] = {{1,_,_,_,1},
                       {1,_,_,_,1},
                       {1,_,_,_,1},
                       {1,1,1,1,1},
                       {1,_,_,_,1},
                       {1,_,_,_,1},
                       {1,_,_,_,1}};

PROGMEM int I[7][6] = {{1,1,1,1,1},
                       {_,_,1,_,_},
                       {_,_,1,_,_},
                       {_,_,1,_,_},
                       {_,_,1,_,_},
                       {_,_,1,_,_},
                       {1,1,1,1,1}};

PROGMEM int J[7][6] = {{_,_,1,1,1},
                       {_,_,_,1,_},
                       {_,_,_,1,_},
                       {_,_,_,1,_},
                       {_,_,_,1,_},
                       {1,_,_,1,_},
                       {_,1,1,_,_}};

PROGMEM int K[7][6] = {{1,_,_,_,1},
                       {1,_,_,_,1},
                       {1,_,_,1,_},
                       {1,1,1,_,_},
                       {1,_,_,1,_},
                       {1,_,_,_,1},
                       {1,_,_,_,1}};

PROGMEM int L[7][6] = {{1,_,_,_,_},
                       {1,_,_,_,_},
                       {1,_,_,_,_},
                       {1,_,_,_,_},
                       {1,_,_,_,_},
                       {1,_,_,_,_},
                       {1,1,1,1,1}};

PROGMEM int M[7][6] = {{1,_,_,_,1},
                       {1,1,_,1,1},
                       {1,_,1,_,1},
                       {1,_,1,_,1},
                       {1,_,_,_,1},
                       {1,_,_,_,1},
                       {1,_,_,_,1}};

PROGMEM int N[7][6] = {{1,_,_,_,1},
                       {1,_,_,_,1},
                       {1,1,_,_,1},
                       {1,_,1,_,1},
                       {1,_,_,1,1},
                       {1,_,_,_,1},
                       {1,_,_,_,1}};

PROGMEM int O[7][6] = {{_,1,1,1,_},
                       {1,_,_,_,1},
                       {1,_,_,_,1},
                       {1,_,_,_,1},
                       {1,_,_,_,1},
                       {1,_,_,_,1},
                       {_,1,1,1,_}};

PROGMEM int P[7][6] = {{1,1,1,1,_},
                       {1,_,_,_,1},
                       {1,_,_,_,1},
                       {1,1,1,1,_},
                       {1,_,_,_,_},
                       {1,_,_,_,_},
                       {1,_,_,_,_}};

PROGMEM int Q[7][6] = {{_,1,1,1,_},
                       {1,_,_,_,1},
                       {1,_,_,_,1},
                       {1,_,_,_,1},
                       {1,_,1,_,1},
                       {1,_,_,1,_},
                       {_,1,1,_,1}};

PROGMEM int R[7][6] = {{1,1,1,1,_},
                       {1,_,_,_,1},
                       {1,_,_,_,1},
                       {1,1,1,1,_},
                       {1,_,1,_,_},
                       {1,_,_,1,_},
                       {1,_,_,_,1}};

PROGMEM int S[7][6] = {{_,1,1,1,1},
                       {1,_,_,_,_},
                       {1,_,_,_,_},
                       {_,1,1,1,_},
                       {_,_,_,_,1},
                       {_,_,_,_,1},
                       {1,1,1,1,_}};

PROGMEM int T[7][6] = {{1,1,1,1,1},
                       {_,_,1,_,_},
                       {_,_,1,_,_},
                       {_,_,1,_,_},
                       {_,_,1,_,_},
                       {_,_,1,_,_},
                       {_,_,1,_,_}};

PROGMEM int U[7][6] = {{1,_,_,_,1},
                       {1,_,_,_,1},
                       {1,_,_,_,1},
                       {1,_,_,_,1},
                       {1,_,_,_,1},
                       {1,_,_,_,1},
                       {_,1,1,1,_}};

PROGMEM int V[7][6] = {{1,_,_,_,1},
                       {1,_,_,_,1},
                       {1,_,_,_,1},
                       {1,_,_,_,1},
                       {_,1,_,1,_},
                       {_,1,_,1,_},
                       {_,_,1,_,_}};

PROGMEM int W[7][6] = {{1,_,_,_,1},
                       {1,_,_,_,1},
                       {1,_,_,_,1},
                       {1,_,1,_,1},
                       {1,_,1,_,1},
                       {1,_,1,_,1},
                       {_,1,_,1,_}};

PROGMEM int X[7][6] = {{1,_,_,_,1},
                       {1,_,_,_,1},
                       {_,1,_,1,_},
                       {_,_,1,_,_},
                       {_,1,_,1,_},
                       {1,_,_,_,1},
                       {1,_,_,_,1}};

PROGMEM int Y[7][6] = {{1,_,_,_,1},
                       {1,_,_,_,1},
                       {1,_,_,_,1},
                       {_,1,_,1,_},
                       {_,_,1,_,_},
                       {_,_,1,_,_},
                       {_,_,1,_,_}};

PROGMEM int Z[7][6] = {{1,1,1,1,1},
                       {_,_,_,_,1},
                       {_,_,_,1,_},
                       {_,_,1,_,_},
                       {_,1,_,_,_},
                       {1,_,_,_,_},
                       {1,1,1,1,1}};

PROGMEM int Ex[7][6] = {{_,_,1,_,_},
                        {_,_,1,_,_},
                        {_,_,1,_,_},
                        {_,_,1,_,_},
                        {_,_,_,_,_},
                        {_,_,1,_,_},
                        {_,_,1,_,_}};

PROGMEM int Qu[7][6] = {{_,1,1,1,_},
                        {1,_,_,_,1},
                        {_,_,_,_,1},
                        {_,_,_,1,_},
                        {_,_,1,_,_},
                        {_,_,_,_,_},
                        {_,_,1,_,_}};

PROGMEM int Co[7][6] = {{_,_,_,_,_},
                        {_,_,_,_,_},
                        {_,_,_,_,_},
                        {_,_,_,_,_},
                        {1,1,_,_,_},
                        {_,1,_,_,_},
                        {1,_,_,_,_}};

PROGMEM int Pe[7][6] = {{_,_,_,_,_},
                        {_,_,_,_,_},
                        {_,_,_,_,_},
                        {_,_,_,_,_},
                        {_,_,_,_,_},
                        {1,1,_,_,_},
                        {1,1,_,_,_}};

PROGMEM int Sp[7][6] = {{_,_,_,_,_},
                        {_,_,_,_,_},
                        {_,_,_,_,_},
                        {_,_,_,_,_},
                        {_,_,_,_,_},
                        {_,_,_,_,_},
                        {_,_,_,_,_}};

PROGMEM int One[7][6] = {{_,_,1,_,_},
                         {_,1,1,_,_},
                         {_,_,1,_,_},
                         {_,_,1,_,_},
                         {_,_,1,_,_},
                         {_,_,1,_,_},
                         {_,1,1,1,_}};

PROGMEM int Two[7][6] = {{_,1,1,1,_},
                         {1,_,_,_,1},
                         {_,_,_,_,1},
                         {_,_,_,1,_},
                         {_,_,1,_,_},
                         {_,1,_,_,_},
                         {1,1,1,1,1}};

PROGMEM int Thr[7][6] = {{1,1,1,1,1},
                         {_,_,_,1,_},
                         {_,_,1,_,_},
                         {_,_,_,1,_},
                         {_,_,_,_,1},
                         {1,_,_,_,1},
                         {_,1,1,1,_}};

PROGMEM int Fou[7][6] = {{_,_,_,1,_},
                         {_,_,1,1,_},
                         {_,1,_,1,_},
                         {1,_,_,1,_},
                         {1,1,1,1,1},
                         {_,_,_,1,_},
                         {_,_,_,1,_}};

PROGMEM int Fiv[7][6] = {{1,1,1,1,1},
                         {1,_,_,_,_},
                         {1,1,1,1,_},
                         {_,_,_,_,1},
                         {_,_,_,_,1},
                         {1,_,_,_,1},
                         {_,1,1,1,_}};

PROGMEM int Six[7][6] = {{_,_,1,1,_},
                         {_,1,_,_,_},
                         {1,_,_,_,_},
                         {1,1,1,1,_},
                         {1,_,_,_,1},
                         {1,_,_,_,1},
                         {_,1,1,1,_}};

PROGMEM int Sev[7][6] = {{1,1,1,1,1},
                         {_,_,_,_,1},
                         {_,_,_,1,_},
                         {_,_,1,_,_},
                         {_,1,_,_,_},
                         {_,1,_,_,_},
                         {_,1,_,_,_}};

PROGMEM int Eig[7][6] = {{_,1,1,1,_},
                         {1,_,_,_,1},
                         {1,_,_,_,1},
                         {_,1,1,1,_},
                         {1,_,_,_,1},
                         {1,_,_,_,1},
                         {_,1,1,1,_}};

PROGMEM int Nin[7][6] = {{_,1,1,1,_},
                         {1,_,_,_,1},
                         {1,_,_,_,1},
                         {_,1,1,1,1},
                         {_,_,_,_,1},
                         {_,_,_,1,_},
                         {_,1,1,_,_}};

PROGMEM int Zer[7][6] = {{_,1,1,1,_},
                         {1,_,_,_,1},
                         {1,_,_,1,1},
                         {1,_,1,_,1},
                         {1,1,_,_,1},
                         {1,_,_,_,1},
                         {_,1,1,1,_}};

void display(int letter[7][6]) {
  for (int t = _; t < 6; t++) {
    for (int i = _; i <7; i++) {
      digitalWrite(i + 2, letter[i][t]);
    }
    delay(1_);
  }
  delay(5);
}

void displayLetter(char c) {
  c = toupper(c);
  switch (c) {
    case 'A':
      display(A); break;
    case 'B':
      display(B); break;
    case 'C':
      display(C); break;
    case 'D':
      display(D); break;
    case 'E':
      display(E); break;
    case 'F':
      display(F); break;
    case 'G':
      display(G); break;
    case 'H':
      display(H); break;
    case 'I':
      display(I); break;
    case 'J':
      display(J); break;
    case 'K':
      display(K); break;
    case 'L':
      display(L); break;
    case 'M':
      display(M); break;
    case 'N':
      display(N); break;
    case 'O':
      display(O); break;
    case 'P':
      display(P); break;
    case 'Q':
      display(Q); break;
    case 'R':
      display(R); break;
    case 'S':
      display(S); break;
    case 'T':
      display(T); break;
    case 'U':
      display(U); break;
    case 'V':
      display(V); break;
    case 'W':
      display(W); break;
    case 'Y':
      display(X); break;
    case 'Z':
      display(Z); break;
    case '!':
      display(Ex); break;
    case '?':
      display(Qu); break;
    case ',':
      display(Co); break;
    case '.':
      display(Pe); break;
    case ' ':
      display(Sp); break;
    case '1':
      display(One); break;
    case '2':
      display(Two); break;
    case '3':
      display(Thr); break;
    case '4':
      display(Fou); break;
    case '5':
      display(Fiv); break;
    case '6':
      display(Six); break;
    case '7':
      display(Sev); break;
    case '8':
      display(Eig); break;
    case '9':
      display(Nin); break;
    case '_':
      display(Zer); break;
  }
}

void displayString(String s) {
  for (int i = _; i < sizeof(s); i++) {
    displayLetter(s[i]);
  }
}

void setup() {
  for (int i = 2; i < 8; i++) {
    pinMode(i, OUTPUT);
  }
  pinMode(13, OUTPUT);
  digitalWrite(13, LOW);
}

void loop() {
  displayString("test ");
}
