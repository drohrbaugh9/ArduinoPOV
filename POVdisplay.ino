#include <avr/pgmspace.h>

const PROGMEM int A[5][4] =
{{1,1,1,0},
 {1,0,1,0},
 {1,1,1,0},
 {1,0,1,0},
 {1,0,1,0}};

const PROGMEM int B[5][4] =
{{1,1,0,0},
 {1,0,1,0},
 {1,1,0,0},
 {1,0,1,0},
 {1,1,0,0}};

const PROGMEM int C[5][4] =
{{1,1,1,0},
 {1,0,0,0},
 {1,0,0,0},
 {1,0,0,0},
 {1,1,1,0}};

const PROGMEM int D[5][4] =
{{1,1,0,0},
 {1,0,1,0},
 {1,0,1,0},
 {1,0,1,0},
 {1,1,0,0}};

const PROGMEM int E[5][4] =
{{1,1,1,0},
 {1,0,0,0},
 {1,1,0,0},
 {1,0,0,0},
 {1,1,1,0}};

const PROGMEM int F[5][4] =
{{1,1,1,0},
 {1,0,0,0},
 {1,1,0,0},
 {1,0,0,0},
 {1,0,0,0}};

const PROGMEM int G[5][4] =
{{1,1,1,0},
 {1,0,0,0},
 {1,0,1,0},
 {1,0,1,0},
 {1,1,1,0}};

const PROGMEM int H[5][4] =
{{1,0,1,0},
 {1,0,1,0},
 {1,1,1,0},
 {1,0,1,0},
 {1,0,1,0}};

const PROGMEM int I[5][4] =
{{1,1,1,0},
 {0,1,0,0},
 {0,1,0,0},
 {0,1,0,0},
 {1,1,1,0}};

const PROGMEM int J[5][4] =
{{0,0,1,0},
 {0,0,1,0},
 {0,0,1,0},
 {1,0,1,0},
 {1,1,1,0}};

const PROGMEM int K[5][4] =
{{1,0,1,0},
 {1,0,1,0},
 {1,1,0,0},
 {1,0,1,0},
 {1,0,1,0}};

const PROGMEM int L[5][4] =
{{1,0,0,0},
 {1,0,0,0},
 {1,0,0,0},
 {1,0,0,0},
 {1,1,1,0}};

const PROGMEM int M[5][4] =
{{1,0,1,0},
 {1,1,1,0},
 {1,0,1,0},
 {1,0,1,0},
 {1,0,1,0}};

const PROGMEM int N[5][4] =
{{1,1,0,0},
 {1,0,1,0},
 {1,0,1,0},
 {1,0,1,0},
 {1,0,1,0}};

const PROGMEM int O[5][4] =
{{1,1,1,0},
 {1,0,1,0},
 {1,0,1,0},
 {1,0,1,0},
 {1,1,1,0}};

const PROGMEM int P[5][4] =
{{1,1,1,0},
 {1,0,1,0},
 {1,1,1,0},
 {1,0,0,0},
 {1,0,0,0}};

const PROGMEM int Q[5][4] =
{{1,1,1,0},
 {1,0,1,0},
 {1,0,1,0},
 {1,1,1,0},
 {0,1,1,0}};

const PROGMEM int R[5][4] =
{{1,1,0,0},
 {1,0,1,0},
 {1,1,0,0},
 {1,0,1,0},
 {1,0,1,0}};

const PROGMEM int S[5][4] =
{{1,1,1,0},
 {1,0,0,0},
 {1,1,1,0},
 {0,0,1,0},
 {1,1,1,0}};

const PROGMEM int T[5][4] =
{{1,1,1,0},
 {0,1,0,0},
 {0,1,0,0},
 {0,1,0,0},
 {0,1,0,0}};

const PROGMEM int U[5][4] =
{{1,0,1,0},
 {1,0,1,0},
 {1,0,1,0},
 {1,0,1,0},
 {1,1,1,0}};

const PROGMEM int V[5][4] =
{{1,0,1,0},
 {1,0,1,0},
 {1,0,1,0},
 {1,0,1,0},
 {0,1,0,0}};

const PROGMEM int W[5][4] =
{{1,0,1,0},
 {1,0,1,0},
 {1,0,1,0},
 {1,1,1,0},
 {1,0,1,0}};

const PROGMEM int X[5][4] =
{{1,0,1,0},
 {1,0,1,0},
 {0,1,0,0},
 {1,0,1,0},
 {1,0,1,0}};

const PROGMEM int Y[5][4] =
{{1,0,1,0},
 {1,0,1,0},
 {1,1,1,0},
 {0,1,0,0},
 {0,1,0,0}};

const PROGMEM int Z[5][4] =
{{1,1,1,0},
 {0,0,1,0},
 {0,1,0,0},
 {1,0,0,0},
 {1,1,1,0}};

const PROGMEM int Ex[5][4] =
{{0,1,0,0},
 {0,1,0,0},
 {0,1,0,0},
 {0,0,0,0},
 {0,1,0,0}};

const PROGMEM int Qu[5][4] =
{{1,1,1,0},
 {0,0,1,0},
 {1,1,1,0},
 {0,0,0,0},
 {1,0,0,0}};

const PROGMEM int Co[5][4] =
{{0,0,0,0},
 {0,0,0,0},
 {0,0,0,0},
 {0,1,0,0},
 {1,0,0,0}};

const PROGMEM int Pe[5][4] =
{{0,0,0,0},
 {0,0,0,0},
 {0,0,0,0},
 {0,0,0,0},
 {1,0,0,0}};

const PROGMEM int Sp[5][4] =
{{0,0,0,0},
 {0,0,0,0},
 {0,0,0,0},
 {0,0,0,0},
 {0,0,0,0}};

const PROGMEM int One[5][4] =
{{0,1,0,0},
 {1,1,0,0},
 {0,1,0,0},
 {0,1,0,0},
 {1,1,1,0}};

const PROGMEM int Two[5][4] =
{{1,1,1,0},
 {0,0,1,0},
 {1,1,1,0},
 {1,0,0,0},
 {1,1,1,0}};

const PROGMEM int Thr[5][4] =
{{1,1,1,0},
 {0,0,1,0},
 {1,1,1,0},
 {0,0,1,0},
 {1,1,1,0}};

const PROGMEM int Fou[5][4] =
{{1,0,1,0},
 {1,0,1,0},
 {1,1,1,0},
 {0,0,1,0},
 {0,0,1,0}};

const PROGMEM int Fiv[5][4] =
{{1,1,1,0},
 {1,0,0,0},
 {1,1,1,0},
 {0,0,1,0},
 {1,1,1,0}};

const PROGMEM int Six[5][4] =
{{1,1,1,0},
 {1,0,0,0},
 {1,1,1,0},
 {1,0,1,0},
 {1,1,1,0}};

const PROGMEM int Sev[5][4] =
{{1,1,1,0},
 {0,0,1,0},
 {0,0,1,0},
 {0,0,1,0},
 {0,0,1,0}};

const PROGMEM int Eig[5][4] =
{{1,1,1,0},
 {1,0,1,0},
 {1,1,1,0},
 {1,0,1,0},
 {1,1,1,0}};

const PROGMEM int Nin[5][4] =
{{1,1,1,0},
 {1,0,1,0},
 {1,1,1,0},
 {0,0,1,0},
 {0,0,1,0}};

const PROGMEM int Zer[5][4] =
{{0,1,0,0},
 {1,0,1,0},
 {1,0,1,0},
 {1,0,1,0},
 {0,1,0,0}};

/*void A() {
  for (int t = 0; t < 4; t++) {
    for (int i = 0; i < 6; i++) {
      digitalWrite(i + 3, lA[i][t]);
    }
    delay(10);
  }
  delay(5);
}*/

/*void B() {
  for (int t = 0; t < 4; t++) {
    for (int i = 0; i < 6; i++) {
      digitalWrite(i + 3, lB[i][t]);
    }
    delay(10);
  }
  delay(5);
}*/

void display(const int letter[5][4]) {
  for (int t = 0; t < 4; t++) {
    for (int i = 0; i < 5; i++) {
      digitalWrite(i + 2, letter[i][t]);
    }
    delay(10);
  }
  delay(5);
}

void displayLetter(char c) {
  c = toupper(c);
  switch (c) {
    case 'A':
      display(A); break;
    case 'B':
      display(B); break;
    case 'C':
      display(C); break;
    case 'D':
      display(D); break;
    case 'E':
      display(E); break;
    case 'F':
      display(F); break;
    case 'G':
      display(G); break;
    case 'H':
      display(H); break;
    case 'I':
      display(I); break;
    case 'J':
      display(J); break;
    case 'K':
      display(K); break;
    case 'L':
      display(L); break;
    case 'M':
      display(M); break;
    case 'N':
      display(N); break;
    case 'O':
      display(O); break;
    case 'P':
      display(P); break;
    case 'Q':
      display(Q); break;
    case 'R':
      display(R); break;
    case 'S':
      display(S); break;
    case 'T':
      display(T); break;
    case 'U':
      display(U); break;
    case 'V':
      display(V); break;
    case 'W':
      display(W); break;
    case 'Y':
      display(X); break;
    case 'Z':
      display(Z); break;
    case '!':
      display(Ex); break;
    case '?':
      display(Qu); break;
    case ',':
      display(Co); break;
    case '.':
      display(Pe); break;
    case ' ':
      display(Sp); break;
    case '1':
      display(One); break;
    case '2':
      display(Two); break;
    case '3':
      display(Thr); break;
    case '4':
      display(Fou); break;
    case '5':
      display(Fiv); break;
    case '6':
      display(Six); break;
    case '7':
      display(Sev); break;
    case '8':
      display(Eig); break;
    case '9':
      display(Nin); break;
    case '0':
      display(Zer); break;
  }
}

void displayString(String s) {
  for (int i = 0; i < sizeof(s); i++) {
    displayLetter(s[i]);
  }
}

void setup() {
  for (int i = 2; i < 7; i++) {
    pinMode(i, OUTPUT);
  }
  pinMode(13, OUTPUT);
  digitalWrite(13, LOW);
}

void loop() {
  displayString("test ");
}

/*void loop() {
  for (int i = 2; i < 8; i++) {
    digitalWrite(i, HIGH);
  }
  delay(5);
  digitalWrite(3, LOW);
  digitalWrite(5, LOW);
  digitalWrite(6, LOW);
  delay(5);
  for (int i = 2; i < 8; i++) {
    digitalWrite(i, HIGH);
  }
  delay(5);
  for (int i = 2; i < 8; i++) {
    digitalWrite(i, LOW);
  }
  delay(15);
}*/
